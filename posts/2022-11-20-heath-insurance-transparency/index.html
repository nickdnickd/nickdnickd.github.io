<!doctype html><html lang=en-us><meta charset=utf-8><title>Health Insurance Transparency - Nick D Blog</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://nickdnickd.com/css/latex.css><link rel=stylesheet href=https://nickdnickd.com/css/main.css><link rel=stylesheet href=https://nickdnickd.com/css/darkmode.css><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><meta name=generator content="Hugo 0.107.0"><body><header><nav class=navbar><div class=nav><ul class=nav-links></ul></div></nav><div class=intro-header><div class=container><div class=posts-heading><h1>Health Insurance Transparency</h1></div></div></div></header><div id=content><div class=container role=main><article class=article class=blog-post><div class=postmeta><span class=meta-post><i class="fa fa-calendar-alt"></i>Jan 1, 2022</span></div><br><h2 id=a-song-of-charge-books-and-actuaries>A Song of Charge Books and Actuaries</h2><p>Insurance is a simple question with a complicated answer. How can an insurance company pay the minimal amount while still retaining employers as customers. Hospitals (and the providers that compose them) have a similar question: how can I charge the most that insurance companies and patients will actually pay. This battle happens on the other side of the curtain. They know virtually nothing until they receive their bill submitted through insurance. This provider-insurance battle is well reported on and results in the wild differences in costs of procedures. Even if they could pick their provider, how will they know which decision would actually cost less? I&rsquo;ve experienced this and so has anyone else with the misfortune of requiring medical services. In an effort to rebalance the information, the US government has <a href=https://www.npr.org/sections/health-shots/2022/07/27/1113091782/health-insurance-prices-for-care-are-now-out-there-but-finding-them-is-an-ordeal>forced</a> health insurance companies to make &ldquo;machine readable&rdquo; files and place them on the open internet.</p><p>Is there actually useful information in these files? If so, is there an insight that can be derived from multiple insurance companies? Or, does malicious compliance previal and we are just left with more confusion?</p><p>Let&rsquo;s try to take a look at these files and see what we can find.</p><h2 id=case-study-united-healthcare>Case Study: United Healthcare</h2><p>Starting with the largest insurer by market share, United Healthcare (UHC), we find their disclosure URL <a href=https://transparency-in-coverage.uhc.com/>https://transparency-in-coverage.uhc.com/</a> and try to download a couple files for the month of November, 2022. There are 59,728 files just for November. And next month, I&rsquo;m not sure what will happen to these files. Do they just get replaced by December&rsquo;s files? I wouldn&rsquo;t be able to know the total download size, but it would definitely hit my current ISP cap. This is yet another reminder of how convoluted our system has become. It started off with employers negotiating group rates and has become the defacto requirement. One could probably see from this data which companies in particular are being ripped off and should renegotiate.</p><p>This massive pile of loosely structured data is reminicent of the document dump <a href="https://en.wikipedia.org/wiki/Document_dump#:~:text=A%20document%20dump%20is%20the,the%20receiver%20of%20the%20information">legal stragegy</a>. Many of the files exceed the memory of a typical machine and definitely put a strain on disk space in general. My guess is that they took some tables from their database, converted them to json and dumped them to a file. A lot of information is repeated and not efficiently connected together. We only have naming conventions and inferences to go off of.</p><p>Are we able to decipher it?</p><h3 id=general-file-types>General File Types</h3><p>I picked three JSON files to download:</p><ul><li><code>2022-11-01_-Big-Valley-Construction-LLC_index.json</code> <a href=https://uhc-tic-mrf.azureedge.net/public-mrf/2022-11-01/2022-11-01_-Big-Valley-Construction-LLC_index.json>link</a><ul><li>This is an index file that has links to all of the files associated with this employer, Big Valley Construction, and UHC in the month of November.</li></ul></li><li><code>2022-11-01_Oxford-Health-Insurance-Inc_OHI-Oxford-Value-Option_allowed-amounts.json</code><ul><li>This is one of the smaller files I could find and seems to only have a few entries. so we can open it.</li></ul></li><li><code>2022-11-01_United-Healthcare-Services--Inc-_Third-Party-Administrator_Optum-Health-Behavioral-Services--OHBS--1018476_C2_in-network-rates.json</code><ul><li>This file is 20GB. It is nearly impossible to open this with a text editor</li><li>Optum appears to be a third party administrator of United Healthcare- yet another layer of complexity in this system.</li></ul></li></ul><p>From a high level, UHC provides all of the rates for each insurer within the UHC network. Each insurer has index</p><h3 id=large-json-file-exploraton>Large JSON file exploraton</h3><p>I was unable to open the in-network-rates file on my Macbook with 32 GB of RAM using a typical application. So there were two command line tools used to try to at least get a look at the beginning of the file and then the overall structure.</p><h4 id=head>head</h4><p><code>head</code> is a command that reads the beginning of a file to a certain limit. Often times there is high level information in the beginning of the file such as metadata. And if we&rsquo;re lucky we can see a picture of the file structure.</p><p>For the sake of formatting, I placed an elipsis <code>...</code> and closing parens/braces to show the rest of the file.
In reality, head cuts the file off in this object.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>nickd@Nicholass-MBP nickdnickd.github.io % head -c <span style=color:#ae81ff>5000</span> /Users/nickd/Downloads/2022-11-01_United-Healthcare-Services--Inc-_Third-Party-Administrator_Optum-Health-Behavioral-Services--OHBS--1018476_C2_in-network-rates.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;reporting_entity_name&#34;</span>: <span style=color:#e6db74>&#34;United Healthcare Services, Inc.&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;reporting_entity_type&#34;</span>: <span style=color:#e6db74>&#34;Third-Party Administrator&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;last_updated_on&#34;</span>: <span style=color:#e6db74>&#34;2022-11-01&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;version&#34;</span>: <span style=color:#e6db74>&#34;1.0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;provider_references&#34;</span>: <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;provider_groups&#34;</span>: <span style=color:#f92672>[{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1992876700<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;581568370&#34;</span><span style=color:#f92672>}}]</span>, <span style=color:#e6db74>&#34;provider_group_id&#34;</span>: 0<span style=color:#f92672>}</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;provider_groups&#34;</span>: <span style=color:#f92672>[{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1710098942<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;204703841&#34;</span><span style=color:#f92672>}}]</span>, <span style=color:#e6db74>&#34;provider_group_id&#34;</span>: 1<span style=color:#f92672>}</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;provider_groups&#34;</span>: <span style=color:#f92672>[{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1215993100<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;621600268&#34;</span><span style=color:#f92672>}}]</span>, <span style=color:#e6db74>&#34;provider_group_id&#34;</span>: 2<span style=color:#f92672>}</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;provider_groups&#34;</span>: <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1740267806, 1649784232, 1174520670, 1447632450, 1922329622<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;208608207&#34;</span><span style=color:#f92672>}}</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1154522944, 1568498475, 1144203233, 1528215340<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;562492885&#34;</span><span style=color:#f92672>}}</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1265106967<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;452317099&#34;</span><span style=color:#f92672>}}</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1932145422<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;854304920&#34;</span><span style=color:#f92672>}}</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;npi&#34;</span>:<span style=color:#f92672>[</span>1114195302<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;900449008&#34;</span><span style=color:#f92672>}}</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1447693833<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;824863664&#34;</span><span style=color:#f92672>}}</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;npi&#34;</span>: <span style=color:#f92672>[</span>1104910157, 1144314105<span style=color:#f92672>]</span>, <span style=color:#e6db74>&#34;tin&#34;</span>: <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;ein&#34;</span>, <span style=color:#e6db74>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;261956018&#34;</span><span style=color:#f92672>}}</span>,
</span></span><span style=display:flex><span>            ...
</span></span><span style=display:flex><span>        <span style=color:#f92672>]}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>You can see that we do indeed see high level information, as well as the beginning of a provider_references table. This seems to be a mapping of EIN (Employee ID Number) to multiple National Provider ID&rsquo;s (NPIs). I suppose this is so that you could tell what providers are In-Network.</p><h4 id=jq>jq</h4><p><code>jq</code> is a command line tool that brings JSON exploration to the command line.
I just wanted to see what other parts of the file we were missing from the highest level.</p><p>So I ran <code>time jq 'keys' &lt;filepath></code> to get a sense of how long it takes to scan the file for just the high level keys.</p><p><img src=/jq_results.png alt=png></p><p>Two observations here:</p><ul><li>The only key left is <code>in_network</code></li><li>This took 20 minutes to run on my laptop. About 1 minute per GB.</li></ul><p>Can we use jq to scan the keys inside <code>'in_network'</code> as well? Will it also take 20 minutes?</p><p>Thanks to <a href=https://stackoverflow.com/a/33630944/3062390>Stack Overflow</a>, I am running the below command to see what we can get
<code>time jq '.in_network | map_values(keys)' &lt;file_name></code></p><p>While I&rsquo;m waiting on this, I&rsquo;m going to try to look at the <em>end</em> of the file to see if the structure is revealed.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>
</span></span><span style=display:flex><span>{ <span style=color:#75715e>// Top level of the file (see above)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>&#34;in_network&#34;</span>: [
</span></span><span style=display:flex><span>        { <span style=color:#75715e>// There are more keys here, this will hopefully be revealed by the jq run above
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#960050;background-color:#1e0010>[</span> 
</span></span><span style=display:flex><span>                <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;provider_references&#34;</span>:[<span style=color:#ae81ff>6137</span>],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;negotiated_prices&#34;</span>:[
</span></span><span style=display:flex><span>                        {<span style=color:#f92672>&#34;negotiated_rate&#34;</span>:<span style=color:#ae81ff>42.0</span>,<span style=color:#f92672>&#34;service_code&#34;</span>:[<span style=color:#e6db74>&#34;11&#34;</span>],<span style=color:#f92672>&#34;negotiated_type&#34;</span>:<span style=color:#e6db74>&#34;negotiated&#34;</span>,<span style=color:#f92672>&#34;expiration_date&#34;</span>:<span style=color:#e6db74>&#34;9999-12-31&#34;</span>,<span style=color:#f92672>&#34;billing_class&#34;</span>:<span style=color:#e6db74>&#34;professional&#34;</span>,<span style=color:#f92672>&#34;billing_code_modifier&#34;</span>:[],<span style=color:#f92672>&#34;additional_information&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>}
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;provider_references&#34;</span>:[<span style=color:#ae81ff>22925</span>],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;negotiated_prices&#34;</span>:[
</span></span><span style=display:flex><span>                        {<span style=color:#f92672>&#34;negotiated_rate&#34;</span>:<span style=color:#ae81ff>42.0</span>,<span style=color:#f92672>&#34;service_code&#34;</span>:[<span style=color:#e6db74>&#34;11&#34;</span>],<span style=color:#f92672>&#34;negotiated_type&#34;</span>:<span style=color:#e6db74>&#34;negotiated&#34;</span>,<span style=color:#f92672>&#34;expiration_date&#34;</span>:<span style=color:#e6db74>&#34;9999-12-31&#34;</span>,<span style=color:#f92672>&#34;billing_class&#34;</span>:<span style=color:#e6db74>&#34;professional&#34;</span>,<span style=color:#f92672>&#34;billing_code_modifier&#34;</span>:[],<span style=color:#f92672>&#34;additional_information&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>}]},
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;provider_references&#34;</span>:[<span style=color:#ae81ff>55590</span>],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;negotiated_prices&#34;</span>:[
</span></span><span style=display:flex><span>                        {<span style=color:#f92672>&#34;negotiated_rate&#34;</span>:<span style=color:#ae81ff>42.0</span>,<span style=color:#f92672>&#34;service_code&#34;</span>:[<span style=color:#e6db74>&#34;11&#34;</span>],<span style=color:#f92672>&#34;negotiated_type&#34;</span>:<span style=color:#e6db74>&#34;negotiated&#34;</span>,<span style=color:#f92672>&#34;expiration_date&#34;</span>:<span style=color:#e6db74>&#34;9999-12-31&#34;</span>,<span style=color:#f92672>&#34;billing_class&#34;</span>:<span style=color:#e6db74>&#34;professional&#34;</span>,<span style=color:#f92672>&#34;billing_code_modifier&#34;</span>:[],<span style=color:#f92672>&#34;additional_information&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>}
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;provider_references&#34;</span>:[<span style=color:#ae81ff>24563</span>],
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;negotiated_prices&#34;</span>:[
</span></span><span style=display:flex><span>                        {<span style=color:#f92672>&#34;negotiated_rate&#34;</span>:<span style=color:#ae81ff>0.0</span>,<span style=color:#f92672>&#34;service_code&#34;</span>:[],<span style=color:#f92672>&#34;negotiated_type&#34;</span>:<span style=color:#e6db74>&#34;negotiated&#34;</span>,<span style=color:#f92672>&#34;expiration_date&#34;</span>:<span style=color:#e6db74>&#34;9999-12-31&#34;</span>,<span style=color:#f92672>&#34;billing_class&#34;</span>:<span style=color:#e6db74>&#34;institutional&#34;</span>,<span style=color:#f92672>&#34;billing_code_modifier&#34;</span>:[],<span style=color:#f92672>&#34;additional_information&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>}
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>]</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>}</span>
</span></span></code></pre></div></article></div></div><footer><div class=container><p class="credits copyright"><p class="credits theme-by">Powered By <a href=https://gohugo.io>Hugo</a>&nbsp;/&nbsp;Theme&nbsp;<a href=https://github.com/kaisugi/HugoTeX>HugoTeX</a><br><a href=https://nickdnickd.com/about></a>
&copy;
2022</p></div></footer></body></html>